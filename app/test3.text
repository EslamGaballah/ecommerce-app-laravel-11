<?php
ุชูุงู ูุง ุฅุณูุงูุ ููุดุฑุญ ุฏูููุชู ุจุงูุชูุตูู ูู Laravel 11 ูู ูู:
## ๐ฌ 1. Notifications (ุงูุฅุดุนุงุฑุงุช)
### โ ูุง ูู ุงูุฅุดุนุงุฑุงุชุ
ุงูุฅุดุนุงุฑุงุช ูู Laravel ุชุณูุญ ูู ุจุฅุฑุณุงู ุชูุจููุงุช ูููุณุชุฎุฏููู ุนุจุฑ ูููุงุช ูุชุนุฏุฏุฉ ูุซู:
* ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (Mail)
* ูุงุนุฏุฉ ุงูุจูุงูุงุช (Database)
* ุงูุจุซ (Broadcast ุนุจุฑ WebSocket)
* ุงูุฑุณุงุฆู ุงููุตูุฉ (SMS)
* Slack ูุบูุฑูุง...
### ๐๏ธ ุฅูุดุงุก ุฅุดุนุงุฑ:
php artisan make:notification InvoicePaid
ููุดุฆ ููููุง ูู:
app/Notifications/InvoicePaid.php
### โ๏ธ ูุซุงู ุนููู:
use Illuminate\Notifications\Notification;
use Illuminate\Notifications\Messages\MailMessage;
use Illuminate\Notifications\Messages\DatabaseMessage;
class InvoicePaid extends Notification
{   public function via($notifiable)
    {       return ['mail', 'database', 'broadcast'];
    }
    public function toMail($notifiable)
    {     return (new MailMessage)
                    ->line('ุชู ุฏูุน ุงููุงุชูุฑุฉ.')
                    ->action('ุนุฑุถ ุงููุงุชูุฑุฉ', url('/invoices/123'))
                    ->line('ุดูุฑูุง ูู!');
    }
    public function toDatabase($notifiable)
    {   return [
            'message' => 'ุชู ุฏูุน ุงููุงุชูุฑุฉ ุฑูู 123',
            'url' => '/invoices/123',
        ];      }
    public function toBroadcast($notifiable)
    {   return new BroadcastMessage([
            'message' => 'ุชู ุฏูุน ุงููุงุชูุฑุฉ ุฑูู 123',
        ]);
    }   }
### ๐ ุฅุฑุณุงู ุงูุฅุดุนุงุฑ:
$user->notify(new InvoicePaid());
## ๐พ ุชุฎุฒูู ุงูุฅุดุนุงุฑุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:
1. ุฅูุดุงุก ุฌุฏูู ุงูุฅุดุนุงุฑุงุช:
php artisan notifications:table
php artisan migrate
## ๐ 2. Broadcasting + Pusher + Laravel WebSockets

### ๐ก ูุง ูู Broadcastingุ

Broadcasting ูุณูุญ ุจุฅุฑุณุงู ุจูุงูุงุช ููุฑูุฉ ูู ุงูุณูุฑูุฑ ุฅูู ุงููุชุตูุญ ุจุงุณุชุฎุฏุงู WebSockets. Laravel ูุฏุนูู ุนู ุทุฑูู:

* Pusher (ุฎุฏูุฉ ุฎุงุฑุฌูุฉ)
* Laravel WebSockets (ุจุงูุฏุฌ ุชุนูู ูุญูููุง)

---

### ๐๏ธ ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ:

#### ๐ ููู `.env`:

```env
BROADCAST_DRIVER=pusher

PUSHER_APP_ID=local
PUSHER_APP_KEY=local
PUSHER_APP_SECRET=local
PUSHER_HOST=127.0.0.1
PUSHER_PORT=6001
PUSHER_SCHEME=http
PUSHER_APP_CLUSTER=mt1
```

#### ๐ ููู `config/broadcasting.php`:

ุชุฃูุฏ ุฃู ููุงุฉ `pusher` ุชุญุชูู ุนูู ุงูุชุงูู:

```php
'connections' => [
    'pusher' => [
        'driver' => 'pusher',
        'key' => env('PUSHER_APP_KEY'),
        'secret' => env('PUSHER_APP_SECRET'),
        'app_id' => env('PUSHER_APP_ID'),
        'options' => [
            'cluster' => env('PUSHER_APP_CLUSTER'),
            'useTLS' => false,
            'host' => env('PUSHER_HOST'),
            'port' => env('PUSHER_PORT'),
            'scheme' => env('PUSHER_SCHEME'),
        ],
    ],
]
```

---

## ๐ Laravel WebSockets

### ๐ฆ ุงูุชุซุจูุช:

```bash
composer require beyondcode/laravel-websockets
php artisan vendor:publish --tag=websockets-config
php artisan migrate
```

### ๐ก ุชุดุบูู ุงูุณูุฑูุฑ:

```bash
php artisan websockets:serve
```

---

### ๐งช ุฅูุดุงุก ุญุฏุซ ููุจุซ:

```bash
php artisan make:event OrderShipped
```

```php
use Illuminate\Broadcasting\InteractsWithSockets;
use Illuminate\Broadcasting\PrivateChannel;
use Illuminate\Contracts\Broadcasting\ShouldBroadcast;

class OrderShipped implements ShouldBroadcast
{
    public $order;

    public function __construct($order)
    {
        $this->order = $order;
    }

    public function broadcastOn()
    {
        return new PrivateChannel('orders.' . $this->order->id);
    }
}
```

---

## ๐งโ๐ป ุฅุนุฏุงุฏ ุงูู Frontend

1. ุซุจุช ุงูููุชุจุงุช ูู ุงููุดุฑูุน ุงูุฃูุงูู (Vue ุฃู Blade):

```bash
npm install --save laravel-echo pusher-js
```

2. ููู JavaScript:

```js
import Echo from 'laravel-echo';
window.Pusher = require('pusher-js');

window.Echo = new Echo({
    broadcaster: 'pusher',
    key: 'local',
    wsHost: window.location.hostname,
    wsPort: 6001,
    forceTLS: false,
    disableStats: true,
});

window.Echo.private('orders.123')
    .listen('OrderShipped', (e) => {
        console.log('ุชู ุดุญู ุงูุทูุจ:', e.order);
    });
```

---

## โ ุฎูุงุตุฉ:

| ุงูููุฒุฉ             | ุงูุบุฑุถ                                |
| ------------------ | ------------------------------------ |
| Notifications      | ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ูููุณุชุฎุฏู ุนุจุฑ ุนุฏุฉ ูููุงุช |
| Pusher             | ุฎุฏูุฉ ุฎุงุฑุฌูุฉ ูุฅุฑุณุงู ุงูุจุซ (WebSockets) |
| Laravel WebSockets | ุจุฏูู ูุฌุงูู ูุนูู ุนูู ุงูุณูุฑูุฑ ุงููุญูู   |

---

ูู ุชุญุจ ุฃุญูู ูู ุงูุดุฑุญ ูููู Word ุฒู ูุง ุนูููุง ูุจู ูุฏูุ
