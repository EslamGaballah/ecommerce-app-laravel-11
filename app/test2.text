<?php
## ๐ 2. Broadcasting + Pusher + Laravel WebSockets
### ๐ก ูุง ูู Broadcastingุ
Broadcasting ูุณูุญ ุจุฅุฑุณุงู ุจูุงูุงุช ููุฑูุฉ ูู ุงูุณูุฑูุฑ ุฅูู ุงููุชุตูุญ ุจุงุณุชุฎุฏุงู WebSockets. Laravel ูุฏุนูู ุนู ุทุฑูู:
* Pusher (ุฎุฏูุฉ ุฎุงุฑุฌูุฉ)
* Laravel WebSockets (ุจุงูุฏุฌ ุชุนูู ูุญูููุง)
### ๐๏ธ ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ:
#### ๐ ููู `.env`:
BROADCAST_DRIVER=pusher
PUSHER_APP_ID=local
PUSHER_APP_KEY=local
PUSHER_APP_SECRET=local
PUSHER_HOST=127.0.0.1
PUSHER_PORT=6001
PUSHER_SCHEME=http
PUSHER_APP_CLUSTER=mt1
#### ๐ ููู `config/broadcasting.php`:
ุชุฃูุฏ ุฃู ููุงุฉ `pusher` ุชุญุชูู ุนูู ุงูุชุงูู:
'connections' => [
    'pusher' => [
        'driver' => 'pusher',
        'key' => env('PUSHER_APP_KEY'),
        'secret' => env('PUSHER_APP_SECRET'),
        'app_id' => env('PUSHER_APP_ID'),
        'options' => [
            'cluster' => env('PUSHER_APP_CLUSTER'),
            'useTLS' => false,
            'host' => env('PUSHER_HOST'),
            'port' => env('PUSHER_PORT'),
            'scheme' => env('PUSHER_SCHEME'),
        ],
    ],
]
## ๐ Laravel WebSockets
### ๐ฆ ุงูุชุซุจูุช:
composer require beyondcode/laravel-websockets
php artisan vendor:publish --tag=websockets-config
php artisan migrate
```

### ๐ก ุชุดุบูู ุงูุณูุฑูุฑ:

```bash
php artisan websockets:serve
```

---

### ๐งช ุฅูุดุงุก ุญุฏุซ ููุจุซ:

```bash
php artisan make:event OrderShipped
```

```php
use Illuminate\Broadcasting\InteractsWithSockets;
use Illuminate\Broadcasting\PrivateChannel;
use Illuminate\Contracts\Broadcasting\ShouldBroadcast;

class OrderShipped implements ShouldBroadcast
{
    public $order;

    public function __construct($order)
    {
        $this->order = $order;
    }

    public function broadcastOn()
    {
        return new PrivateChannel('orders.' . $this->order->id);
    }
}
```

---

## ๐งโ๐ป ุฅุนุฏุงุฏ ุงูู Frontend

1. ุซุจุช ุงูููุชุจุงุช ูู ุงููุดุฑูุน ุงูุฃูุงูู (Vue ุฃู Blade):

```bash
npm install --save laravel-echo pusher-js
```

2. ููู JavaScript:

```js
import Echo from 'laravel-echo';
window.Pusher = require('pusher-js');

window.Echo = new Echo({
    broadcaster: 'pusher',
    key: 'local',
    wsHost: window.location.hostname,
    wsPort: 6001,
    forceTLS: false,
    disableStats: true,
});

window.Echo.private('orders.123')
    .listen('OrderShipped', (e) => {
        console.log('ุชู ุดุญู ุงูุทูุจ:', e.order);
    });
```

---

## โ ุฎูุงุตุฉ:

| ุงูููุฒุฉ             | ุงูุบุฑุถ                                |
| ------------------ | ------------------------------------ |
| Notifications      | ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ูููุณุชุฎุฏู ุนุจุฑ ุนุฏุฉ ูููุงุช |
| Pusher             | ุฎุฏูุฉ ุฎุงุฑุฌูุฉ ูุฅุฑุณุงู ุงูุจุซ (WebSockets) |
| Laravel WebSockets | ุจุฏูู ูุฌุงูู ูุนูู ุนูู ุงูุณูุฑูุฑ ุงููุญูู   |

---

ูู ุชุญุจ ุฃุญูู ูู ุงูุดุฑุญ ูููู Word ุฒู ูุง ุนูููุง ูุจู ูุฏูุ
